Восстановление удаленных файлов на ext3

Для восстановления файлов будем пользоваться утилитой ext3grep. Сначала установим её при помощи пакетного менеджера вашего дистрибутива. Например так:

# apt-get install ext3grep

Последовательность действий
Прежде чем приступить к восстановлению файлов, необходимо отмонтировать раздел с которым предстоит работать. Ни в коем случае не запускайте процесс на неотмонтированном разделе

# umount /mnt/sdb1/

Попробуем поискать удаленный файл по части его названия

# ext3grep --dump-names /dev/sdb1 |grep -i xxx

Эта команда должна выдать имена файлов, содержащие подстроку xxx. При обработке больших разделов придется набраться терпения и немного подождать. После этого выбираем нужный файл и даем команду на восстановление

# ext3grep --restore-file xxx.avi /dev/sdb1

Восстановленный файл будет помещен в каталог RESTORED_FILES рабочей директории. После этого монтируем раздел и перемещаем файл на прежнее место.

# mount /mnt/sdb1
# mv RESTORED_FILES/xxx.avi -t /mnt/sdb1/

Утилита ext3grep имеет много других опций и фильтров для поиска файла, поэтому обязательно ознакомьтесь со справкой man ext3grep. И помните, чем быстрее после случайного удаления файла произвести его восстановление, тем больше шансов на успех этой операции.
